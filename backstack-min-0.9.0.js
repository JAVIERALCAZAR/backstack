(function(){var a,b,c;(function(d){function j(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d==="..")if(c!==1||a[2]!==".."&&a[0]!=="..")c>0&&(a.splice(c-1,2),c-=2);else break;a=a.join("/")}return a}function k(a,b){return function(){return i.apply(d,g.call(arguments,0).concat([a,b]))}}function l(a){return function(b){return j(b,a)}}function m(a){return function(b){e[a]=b}}function n(a){if(f.hasOwnProperty(a)){var b=f[a];delete f[a],h.apply(d,b)}return e[a]}function o(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=j(a.slice(0,e),b),a=a.slice(e+1),d=n(c),d&&d.normalize?a=d.normalize(a,l(b)):a=j(a,b)):a=j(a,b),{f:c?c+"!"+a:a,n:a,p:d}}var e={},f={},g=[].slice,h,i;if(typeof c=="function")return;h=function(a,b,c,g){var h=[],i,j,l,p,q,r;g||(g=a);if(typeof c=="function"){!b.length&&c.length&&(b=["require","exports","module"]);for(p=0;p<b.length;p++){r=o(b[p],g),l=r.f;if(l==="require")h[p]=k(a);else if(l==="exports")h[p]=e[a]={},i=!0;else if(l==="module")j=h[p]={id:a,uri:"",exports:e[a]};else if(e.hasOwnProperty(l)||f.hasOwnProperty(l))h[p]=n(l);else if(r.p)r.p.load(r.n,k(g,!0),m(l),{}),h[p]=e[l];else throw a+" missing "+l}q=c.apply(e[a],h),a&&(j&&j.exports!==d?e[a]=j.exports:i||(e[a]=q))}else a&&(e[a]=c)},a=i=function(a,b,c,e){return typeof a=="string"?n(o(a,b).f):(a.splice||(b.splice?(a=b,b=arguments[2]):a=[]),e?h(d,a,b,c):setTimeout(function(){h(d,a,b,c)},15),i)},i.config=function(){return i},b||(b=i),c=function(a,b,d){b.splice||(d=b,b=[]),c.unordered?f[a]=[a,b,d]:h(a,b,d)},c.amd={jQuery:!0}})(),c("almond",function(){}),c("StackView",[],function(){var a=Backbone.View.extend({destructionPolicy:"auto",stackNavigator:null,rendered:!1,setStackNavigator:function(a,b){this.stackNavigator=a,b&&b.destructionPolicy&&(this.destructionPolicy=b.destructionPolicy),this.$el.css({position:"absolute",overflow:"hidden",width:"100%",height:"100%"})}});return a}),c("effects/NoEffect",[],function(){var a=function(a){this.stackNavigator=a};return a.prototype.play=function(a,b,c,d){b&&(b.css("display",b.data("original-display")),b.removeData("original-display")),c.call(d)},a}),c("effects/vendorPrefix",[],function(){var a,b=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,c=document.getElementsByTagName("script")[0];if("WebkitOpacity"in c.style)a="Webkit";else if("KhtmlOpacity"in c.style)a="Khtml";else for(var d in c.style)if(b.test(d)){a=d.match(b)[0];break}return a||""}),c("effects/SlideEffect",["effects/vendorPrefix"],function(a){var b=function(b,c,d){this.stackNavigator=b,this.direction=c?c:"left",this.effectParams="all "+(d?d:"0.4s ease-out 0.1s")};return b.prototype.play=function(b,c,d,e){var f=0,g,h;a=="Moz"||a==""?g="transitionend":a=="ms"?g="MSTransitionEnd":g=a.toLowerCase()+"TransitionEnd";var i=function(b){f--,$(b.target)[0].style[a+"Transition"]="",f==0&&d&&d.call(e)};b&&(b.one(g,i),b.css("left",0),b[0].style[a+"Transition"]=this.effectParams,f++),c&&(c.one(g,i),c.css("left",this.direction=="left"?this.stackNavigator.$el.width():-this.stackNavigator.$el.width()),c[0].style[a+"Transition"]=this.effectParams,f++,c.css("display",c.data("original-display")),c.removeData("original-display"));if(b||c)this.stackNavigator.$el.css("width"),h="translateX("+(this.direction=="left"?-this.stackNavigator.$el.width():this.stackNavigator.$el.width())+"px)";b&&c?b[0].style[a+"Transform"]=c[0].style[a+"Transform"]=h:c?c[0].style[a+"Transform"]=h:b&&(b[0].style[a+"Transform"]=h)},b}),c("StackNavigator",["effects/SlideEffect"],function(a){var b=function(b,c,d){c.instance.$el.data("original-display",c.instance.$el.css("display")),c.instance.$el.css("display","none"),this.$el.append(c.instance.$el),c.instance.rendered||(c.instance.render.call(c.instance),c.instance.rendered=!0),this.viewsStack.push(c),d=d||this.defaultPushTransition||(this.defaultPushTransition=new a(this,"left")),d.play(b?b.instance.$el:null,c.instance.$el,function(){this.activeView=c.instance,c.instance.$el.trigger("viewActivate"),b&&(b.instance.$el.trigger("viewDeactivate"),b.instance.destructionPolicy=="never"?b.instance.$el.detach():(b.instance.remove(),b.instance=null)),this.trigger("viewChanged")},this)},c=function(b,c,d){this.viewsStack.pop();if(c){if(!c.instance){var e=c.viewClass;c.instance=new e(c.options),c.instance.setStackNavigator(this,c.options?c.options.navigationOptions:null)}c.instance.$el.data("original-display",c.instance.$el.css("display")),c.instance.$el.css("display","none"),this.$el.append(c.instance.$el),c.instance.rendered||(c.instance.render.call(c.instance),c.instance.rendered=!0)}d=d||this.defaultPopTransition||(this.defaultPopTransition=new a(this,"right")),d.play(b.instance.$el,c?c.instance.$el:null,function(){c?(this.activeView=c.instance,c.instance.$el.trigger("viewActivate")):this.activeView=null,b.instance.$el.trigger("viewDeactivate"),b.instance.remove(),b.instance=null,this.trigger("viewChanged")},this)},d=Backbone.View.extend({viewsStack:null,activeView:null,defaultPushTransition:null,defaultPopTransition:null,events:{viewActivate:"proxyActivationEvents",viewDeactivate:"proxyActivationEvents"},proxyActivationEvents:function(a){this.trigger(a.type,a)},initialize:function(a){this.$el.css({overflow:"hidden"}),this.viewsStack=[]},pushView:function(a,c,d){var e,f,g=typeof a!="function",h=_.last(this.viewsStack);e=g?a:new a(c),e.setStackNavigator(this,c?c.navigationOptions:null),f={instance:e,viewClass:e.constructor,options:c};var i=$.Event("viewChanging",{action:"push",fromViewClass:h?h.viewClass:null,fromView:h?h.instance:null,toViewClass:f.viewClass,toView:f.instance});return this.trigger(i.type,i),i.isDefaultPrevented()?null:(b.call(this,h,f,d),e)},popView:function(a){var b,d;this.viewsStack.length>0&&(d=this.viewsStack[this.viewsStack.length-1]),this.viewsStack.length>1&&(b=this.viewsStack[this.viewsStack.length-2]);var e=$.Event("viewChanging",{action:"pop",fromViewClass:d?d.viewClass:null,fromView:d?d.instance:null,toViewClass:b?b.viewClass:null,toView:b?b.instance:null});this.trigger(e.type,e);if(!e.isDefaultPrevented()){var f=d.instance;return c.call(this,d,b,a),f}return null},popAll:function(a){if(this.viewsStack.length>0){var b;this.viewsStack.length>0&&(b=this.viewsStack[this.viewsStack.length-1]);var d=$.Event("viewChanging",{action:"popAll",fromViewClass:b?b.viewClass:null,fromView:b?b.instance:null,toViewClass:null,toView:null});this.trigger(d.type,d),d.isDefaultPrevented()||(this.viewsStack.splice(0,this.viewsStack.length-1),c.call(this,b,null,a))}return null},replaceView:function(a,c,d){if(this.viewsStack.length>0){var e,f,g=typeof a!="function",h=this.viewsStack[this.viewsStack.length-1];e=g?a:new a(c),e.setStackNavigator(this,c?c.navigationOptions:null),f={instance:e,viewClass:e.constructor,options:c};var i=$.Event("viewChanging",{action:"replace",fromViewClass:h.viewClass,fromView:h.instance,toViewClass:f.viewClass,toView:f.instance});this.trigger(i.type,i);if(!i.isDefaultPrevented())return this.viewsStack.pop(),b.call(this,h,f,d),e}return null}});return d}),c("effects/FadeEffect",["effects/vendorPrefix"],function(a){var b=function(a,b){this.stackNavigator=a,this.effectParams="opacity "+b?b:"0.2s linear 0.1s"};return b.prototype.play=function(b,c,d,e){var f=0,g;a=="Moz"||a==""?g="transitionend":a=="ms"?g="MSTransitionEnd":g=a.toLowerCase()+"TransitionEnd";var h=function(b){f--,$(b.target)[0].style[a+"Transition"]="",f==0&&d&&d.call(e)};b&&(b.one(g,h),b[0].style[a+"Transition"]=this.effectParams,f++),c&&(c.css("opacity",0),c.one(g,h),c[0].style[a+"Transition"]=this.effectParams,f++,c.css("display",c.data("original-display")),c.removeData("original-display")),this.stackNavigator.$el.css("width"),c&&c.css("opacity",1),b&&b.css("opacity",0);var i=this;setTimeout(function(){f>0&&(f=0,c&&(c[0].style[i.vendorPrefix+"Transition"]=""),b&&(b[0].style[i.vendorPrefix+"Transition"]=""),d.call(e))},350)},b}),c("BackStack",["StackNavigator","StackView","effects/NoEffect","effects/SlideEffect","effects/FadeEffect"],function(a,b,c,d,e){var f={StackNavigator:a,StackView:b,NoEffect:c,SlideEffect:d,FadeEffect:e};return f}),b(["BackStack"],function(a){window.BackStack=a,$(document).trigger("BackStackLoaded")})})()